ID,File / Area,Task,Outcome
B-1,src/lerobot/robots/tatbot/tatbot.py — _set_positions method (lines ~109-123 in diff),"Remove the immediate position validation (read_joints, deltas calculation, mismatch loop, and raise) from _set_positions, as it fails with non-blocking sets (block=False) and causes false errors/crashes. If validation is needed for safety, move it to _wait_for_arms after the loop: fetch positions, compute deltas against the goal joints (pass goals to _wait_for_arms), and raise/warn if exceeded. Make validation optional via a new config flag validate_positions: bool = False.",Prevents crashes on every action; reduces unnecessary network calls; optional safety check.
B-2,src/lerobot/robots/tatbot/tatbot.py — _wait_for_arms method (lines ~322-330),"Enhance to actually wait for completion: Inside the loop, fetch joint_pos_l and joint_pos_r, compute deltas against goal positions (modify method to accept goal_pos_l and goal_pos_r as args from send_action), break early if all deltas < tolerance (use config.joint_tolerance_error). Remove unused fetches if not validating. Increase sleep to 0.1s to reduce busy-wait overhead. If timeout reached without match, log warning/error.",Adaptive waiting ensures actions complete; reduces wasted polls; prevents proceeding too early/late.
B-3,src/lerobot/robots/tatbot/tatbot.py — send_action method (lines ~336-342),"Make waiting selective: Call _wait_for_arms only if block != ""none""; for ""left""/""right"", pass only the relevant goal_pos and modify _wait_for_arms to optionally wait/poll one arm. Pass goal_pos_l/r to _wait_for_arms for validation.",Respects block parameter; avoids unnecessary waits on independent arms.
B-4,src/lerobot/robots/tatbot/tatbot.py — send_action method (lines ~313-320),"To fully parallelize arm sets: Wrap _set_positions_r and _set_positions_l in threading.Threads (import threading), start both, then join. This overlaps any set latency.",Minimal additional concurrency for sets; total time reduced if sets have network delay.
B-5,src/lerobot/robots/tatbot/tatbot.py — _urdf_joints_to_action method (lines ~307-311),"Add assertion: assert len(urdf_joints) >= 15, ""URDF joints must have at least 15 elements""; document the skip of index 7 (e.g., ""# Skip index 7: unused base joint""). Ensure filtered_joints len == len(self.joints) == 14.",Prevents silent errors on bad input; clarifies magic skip.
B-6,src/lerobot/teleoperators/gamepad/atari_teleoperator.py — get_action method (lines ~103-109),"Fix event aggregation: Move action.update(evt) inside the while loop: while not self._queue.empty(): evt = self._queue.get_nowait(); action.update(evt). Remove last_event logic, as it discards all but the final event.","Captures all queued events (e.g., x + y + button in one poll); prevents lost inputs."
B-7,src/lerobot/teleoperators/gamepad/atari_teleoperator.py — _put_event method (lines ~97-99),"Since queue_size=0 (unbounded), remove _queue_full_count and logging, as Full never occurs. Or revert to bounded queue if back-pressure needed.",Cleans up dead code; avoids confusion.